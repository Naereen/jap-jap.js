<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Jap Jap !</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="example.css"/>
		<script src="jquery-1.7.min.js"></script>
	</head>
	<body>
		<h1>Jap Jap !</h1>

		<div id="language-switch" style="text-align: right; margin-bottom: 10px;">
			<a href="index.html">ðŸ‡¬ðŸ‡§ English</a> | <a href="index.fr.html">ðŸ‡«ðŸ‡· FranÃ§ais</a>
		</div>

		<div id="game-info">
			<div id="player-count-selector">
				<strong>Number of players:</strong>
				<select id="player-count">
					<option value="2">2 (You + 1 opponent)</option>
					<option value="3">3 (You + 2 opponents)</option>
					<option value="4">4 (You + 3 opponents)</option>
				</select>
			</div>
			<div id="scores">
				<strong>Scores:</strong> 
				<span id="scores-display">You: 0 | Opponent 1: 0</span>
			</div>
			<div id="status-message">Select number of players and click DEAL to start the game!</div>
		</div>

		<img class="preload" src="img/cards.png"/>

		<div id="card-table">
			<button id="deal">DEAL</button>
		</div>
		
		<button id="japjap-button">JAP JAP!</button>
		
		<div id="instructions">
			<strong>How to play:</strong>
			<ul>
				<li>Select one or more cards from your hand (they must be same rank or consecutive sequence of same suit)</li>
				<li>Click the deck to draw a hidden card, or click the discard pile to pick the top visible card</li>
				<li>Call "JAP JAP!" when your hand value is 5 or less to win the round</li>
				<li>First to 90 points loses the game!</li>
			</ul>
			<strong>Card Values:</strong>
			<ul>
				<li>Ace = 1 point</li>
				<li>Number cards (2-10) = face value (2 = 2 points, 3 = 3 points, ..., 10 = 10 points)</li>
				<li>Jack = 11 points</li>
				<li>Queen = 12 points</li>
				<li>King = 13 points</li>
			</ul>
			<p><strong>Hand Value:</strong> The total value of your hand is the sum of all card values. For example, if you have Ace, 3, 5, Jack, and King, your hand value is 1 + 3 + 5 + 11 + 13 = 33 points.</p>
		</div>
		
		<footer>
            This game is still a work in progress (<a id="commit-link" href="https://github.com/Naereen/jap-jap.js/commits/main" target="_blank">commit <span id="commit-hash">loading...</span></a>), written by <a href="https://perso.crans.org/besson/">Lilian Besson</a> (<a href="https://github.com/Naereen/">Naereen</a>).
            <br>
			cards.js was created by <a href="http://einaregilsson.com">Einar Egilsson</a> and is licensed under the MIT license. The card images were created by <a href="http://nicubunu.ro">Nicu Buculei</a> and are in the public domain.
            <br>
            <a href="https://github.com/Naereen/jap-jap.js/">View this project on GitHub</a>
            <br>
            <em>This project was developed with assistance from GitHub Copilot.</em>
            <script>
                // Fetch and display the latest commit hash
                fetch('https://api.github.com/repos/Naereen/jap-jap.js/commits/main')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Failed to fetch commit info');
                        }
                        return response.json();
                    })
                    .then(data => {
                        if (data && data.sha) {
                            const shortHash = data.sha.substring(0, 7);
                            document.getElementById('commit-hash').textContent = shortHash;
                            document.getElementById('commit-link').href = 'https://github.com/Naereen/jap-jap.js/commit/' + data.sha;
                        } else {
                            document.getElementById('commit-hash').textContent = 'unavailable';
                        }
                    })
                    .catch(error => {
                        document.getElementById('commit-hash').textContent = 'unavailable';
                        console.error('Error fetching commit:', error);
                    });
            </script>
		</footer>
		<!-- load this at the bottom so the #card-table element exists -->
		<script src="cards.js"></script>
		<script src="japjap.js"></script>
	</body>
</html>